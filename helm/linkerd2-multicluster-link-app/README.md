# linkerd2-multicluster-link-app

A helm chart containing the resources to enable mirroring
of services from a remote cluster.

Warning: The purpose of this chart is just to support the `linkerd
multicluster link` CLI command, which also produces the
`cluster-credentials` secret and the Link CR, which are not found in this
chart. Therefore this chart is not a replacement for that command, and
shouldn't be used as-is unless you really know what you're doing ;-)

![Version: 0.8.0](https://img.shields.io/badge/Version-0.8.0-informational?style=flat-square)

![AppVersion: stable-2.12.2](https://img.shields.io/badge/AppVersion-stable--2.12.2-informational?style=flat-square)

## Requirements

Kubernetes: `>=1.21.0-0`

| Repository | Name | Version |
|------------|------|---------|
|  | partials | 0.1.0 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| controllerImage | string | `"giantswarm/linkerd2-controller"` | Docker image for the Service mirror component (uses the Linkerd controller image) |
| controllerImageVersion | string | `"stable-2.11.4"` | Tag for the Service Mirror container Docker image |
| enableHeadlessServices | bool | `false` | Toggle support for mirroring headless services |
| enablePSP | bool | `true` | Create RoleBindings to associate ServiceAccount of target cluster Service Mirror to the control plane PSP resource. This requires that `enabledPSP` is set to true on the extension and control plane install. Note PSP has been deprecated since k8s v1.21 |
| gateway.probe.port | int | `4191` | The port used for liveliness probing |
| image | object | `{"registry":"quay.io"}` | Registry switch Do not overwrite this as it is automatically set based on the installation region |
| logLevel | string | `"info"` | Log level for the Multicluster components |
| namespace | string | `"linkerd-multicluster"` | Service Mirror component namespace |
| serviceAccount | object | `{"create":true,"name":""}` | Settings for service account creation. |
| serviceAccount.create | bool | `true` | Whether to create a service account or use a pre-created one. |
| serviceAccount.name | string | `""` | Name of the (pre-)created service account. |
| serviceMirrorRetryLimit | int | `3` | Number of times update from the remote cluster is allowed to be requeued (retried) |
| serviceMirrorUID | int | `2103` | User id under which the Service Mirror shall be ran |
| target | object | `{"CA":"","api":"","enabled":false,"gateway":{"ip":"","port":"4143","portProbe":"4191"},"name":"target","token":""}` | Settings needed in order to enable the link to watch services |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
